<!DOCTYPE HTML>
<html lang="en" >
    <head><meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>Development &amp; Contributing Guide · Enso Developer Documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="The developer documentation for the Enso compiler, runtime, and IDE..
"><meta name="generator" content="Jekyll (using style of GitBook 3.2.3)"><meta name="author" content="Enso.org"><link rel="stylesheet" href="/gitbook/style.css">
<link rel="stylesheet" href="/gitbook/gitbook-plugin-fontsettings/website.css">
<!-- <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css"> -->

<link rel="stylesheet" href="/gitbook/rouge-highlight-colorful.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="/gitbook/images/favicon.ico" type="image/x-icon">
        

        
        


        
        
        

        
        
        

        
            <link rel="prev" href="/docs/ide" />
        

        
    </head>
    <body>
        
        <div class="book"><div class="book-summary">
    <div id="search-searchbar">
    </div>
    <div class="post-list" id="search-hits">
        
      </div>
      <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<script>
var search = instantsearch({
  appId: '3PBI3MMCBE',
  apiKey: '55d673c313b717b7386df8c9418588d4',
  indexName: 'jekyll',
  searchFunction(helper) {
    var container = document.querySelector('#search-hits');
    container.style.display = helper.state.query === '' ? 'none' : '';

    helper.search();
  }
});

var hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  var title = hit._highlightResult.title.value;

  var content = hit._highlightResult.html.value;

  return `
    <li class="post-item chapter">
      <a href="${url}" class="post-link">${title}</a>
      <div class="post-snippet">${content}</div>
    </li>
  `;
}


search.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-searchbar',
    placeholder: 'Search the docs',
    poweredBy: true // This is required if you're on the free Community plan
  })
);

search.addWidget(
  instantsearch.widgets.hits({
    container: '#search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

search.start();
</script>

<style>
.ais-search-box {
  max-width: 100%;
  margin-bottom: 15px;
}
.post-item {
  margin-bottom: 30px;
}
.post-link .ais-Highlight {
  color: #111;
  font-style: normal;
  text-decoration: underline;
}
.post-breadcrumbs {
  color: #424242;
  display: block;
}
.post-breadcrumb {
  font-size: 18px;
  color: #424242;
}
.post-breadcrumb .ais-Highlight {
  font-weight: bold;
  font-style: normal;
}
.post-snippet .ais-Highlight {
  color: #2a7ae2;
  font-style: normal;
  font-weight: bold;
}
.post-snippet img {
  display: none;
}

.post-list {
    list-style:none;
    margin:0;
    padding: 10px 15px;
    -webkit-transition:top .5s ease;
    -moz-transition:top .5s ease;
    -o-transition:top .5s ease;
    transition:top .5s ease
}

#search-hits::after {
    content: '';
    display: block;
    height: 1px;
    margin: 7px 0;
    overflow: hidden;
    background: rgba(0,0,0,.07);
}
</style>
    <nav role="navigation">
        <ul class="summary">
            
            <li class="chapter" data-level="1.1" data-path="/">
            
                <a href="/">
                    Home
                </a>
            </li>

            <li class="divider"></li>

            
            
            

            
            
        
            
            <li class="chapter" data-level="1.1" data-path="/docs/ide ">
                    <a href="/docs/ide">
                        Go back
                    </a>
                </li>
                <li class="divider"></li>
            
                
            
            
            
            
            
            
            
                
                    
                    <li class="chapter active" data-level="1.2" data-path="/docs/ide/CONTRIBUTING.html">
                    
                        <a href="/docs/ide/CONTRIBUTING.html">
                            
                                Development &amp; Contributing Guide
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/ide/">
                    
                        <a href="/docs/ide/">
                            
                                Enso IDE documentation
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/ide/repository-structure.html">
                    
                        <a href="/docs/ide/repository-structure.html">
                            
                                repository-structure.md
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            

            
        
        </ul>
    </nav>
</div>
<div class="book-body"><div class="body-inner">
    <div class="book-header" role="navigation">
        <!-- Title -->
        <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i>
            
                <a href="." >Development &amp; Contributing Guide</a>
            
        </h1>
    </div>
    <div class="page-wrapper" tabindex="-1" role="main">
        <div class="page-inner">
            <div id="book-search-results">
                <div class="search-noresults">
                    <section class="normal markdown-section">
                        <h1 id="development--contributing-guide">Development &amp; Contributing Guide</h1>
<p>Thank you for your interest in contributing to the Enso IDE! We believe that only through community
involvement can Enso be the best it can be! There are a whole host of ways to contribute, and every
single one is appreciated.</p>

<p><br /></p>

<h2 id="reporting-issues">Reporting Issues</h2>

<p><strong>If you are concerned that your bug publicly presents a security risk to the users of Enso, please
contact <a href="mailto:security@enso.org">security@enso.org</a>.</strong></p>

<p>While it’s never great to find a bug, they are a reality of software and software development! We
can’t fix or improve on the things that we don’t know about, so report as many bugs as you can! If
you’re not sure whether something is a bug, file it anyway!</p>

<p>Even though GitHub search can be a bit hard to use sometimes, we’d appreciate if you could
<a href="https://github.com/luna/enso/search?q=&amp;type=Issues&amp;utf8=%E2%9C%93">search</a> for your issue before
filing a bug as it’s possible that someone else has already reported the issue. We know the search
isn’t the best, and it can be hard to know what to search for, so we really don’t mind if you <em>do</em>
submit a duplicate!</p>

<p>Opening an issue is as easy as following <a href="https://github.com/luna/ide/issues/new?template=bug-report.md">this link</a>
and filling out the fields. The template is intended to collect all the information we need to best
diagnose the issue, so please take the time to fill it out accurately.</p>

<p>The reproduction steps are particularly important, as the more easily we can reproduce it, the
faster we can fix the bug! It’s also helpful to have the version of the IDE, as that will let us
know if the bug is Operating System or Architecture specific.</p>

<p><br /></p>

<h2 id="development-environment">Development Environment</h2>
<p>The project builds on MacOS, Windows, and Linux. Cross-platform targets work well on all of these
platforms, however, MacOS package will miss the right application icon if built on Linux or Windows
due to non-trival icon generation on these platforms. In order to develop the source code you will
need the following setup:</p>

<ul>
  <li>
    <p><strong>The Rust Toolchain (nightly-2019-11-04)</strong></p>

    <p>This project uses several features available only in the nightly Rust toolchain.  Please use the
<a href="https://rustup.rs">the Rust toolchain installer</a> to install it:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rustup toolchain <span class="nb">install </span>nightly-2019-11-04 <span class="c"># Install the nightly channel.</span>
rustup override <span class="nb">set </span>nightly-2019-11-04      <span class="c"># Set it as the default toolchain for this folder.</span>
rustup component add clippy                 <span class="c"># Install the linter.</span>
cargo <span class="nb">install </span>wasm-pack <span class="nt">--version</span> 0.8.1     <span class="c"># Install the wasm-pack toolkit.</span>
cargo <span class="nb">install </span>cargo-watch                   <span class="c"># To enable ./run watch utility</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Node and Node Package Manager LTS</strong></p>

    <p>In order to build the web and desktop applications you will need
<a href="https://nodejs.org/en/download">the latest LTS version of node and npm</a>. Even minor release
changes are known to cause serious issues, thus <strong>we provide support for the latest LTS version
only. Please do not report build issues if you use other versions.</strong> In case you run run MacOS or
Linux the easiest way to set up the proper version is by installing the
<a href="https://github.com/nvm-sh/nvm">Node Version Manager</a> and running
<code class="language-plaintext highlighter-rouge">nvm install --lts &amp;&amp; nvm use --lts</code>.</p>
  </li>
  <li>
    <p><strong>(Optional) FlatBuffer compiler <code class="language-plaintext highlighter-rouge">flatc</code></strong></p>

    <p>This dependency is needed only if you need to update files generated by the FlatBuffer from the
Engine Services binary protocol description. Otherwise, relying on the generated files that are
being stored in this repository is fine.</p>

    <p><code class="language-plaintext highlighter-rouge">flatc</code> must be in version <em>newer than 1.12</em> due to <a href="">this bug</a>. As of writing this text there
are no official releases with this issue fixed, however current binaries can be obtained from the
project’s CI <a href="https://github.com/google/flatbuffers/actions?query=branch%3Amaster">build
artifacts</a>.</p>
  </li>
</ul>

<p><br /></p>

<h2 id="working-with-sources">Working with sources</h2>
<p>Please note that you should not use a code auto-formatter in this codebase. Please read the
following documents to learn more about reasons behind this decision and the recommended code style
guide. Be sure to carefully read the
<a href="/docs/ide/contributing/style-guide.html">Rust style guide 1</a>
and the <a href="https://dev.enso.org/docs/style-guide/rust.html">Rust style guide 2</a>
before contributing to the codebase.</p>

<h3 id="setting-up-engine-services">Setting up Engine Services</h3>
<p>IDE requires a service named Project Picker to be running in the background on the local machine.
The service, being part of the Enso Engine, currently must be built from the sources on the <a href="https://github.com/luna/enso">enso
repository</a>. If the service is not running, the IDE will not start.</p>

<p>However, it is possible to hack on many components of the IDE without the service. The debug scenes
and tests will work even without the Project Picker.</p>

<p>To run Project Picker, it must be first built — please follow the Enso Engine <a href="https://github.com/luna/enso/blob/main/docs/CONTRIBUTING.md">contributing
guidelines</a> to obtain sources and
necessary tools. When they are in place, the service can be built and started by issuing the
following command in the <a href="https://github.com/luna/enso">enso repository</a> root:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt -java-home $JAVA_HOME -J-Xss10M project-manager/run
</code></pre></div></div>

<p>Where <code class="language-plaintext highlighter-rouge">$JAVA_HOME</code> is the path where <code class="language-plaintext highlighter-rouge">graalvm-ce-java8-20.0.0</code> is located.</p>

<p>In future significant improvements to this process are planned, specifically:</p>
<ul>
  <li>not requiring the engine to be able to start the IDE;</li>
  <li>providing self-contained Project Picker service packages.</li>
</ul>

<h3 id="development">Development</h3>
<p>As this is a multi-part project with many complex dependencies, it is equipped with a build script
which both validates your working environment as well as takes care of providing the most suitable
compilation flags for a particular development stage. In order to run the build script simply run
<code class="language-plaintext highlighter-rouge">node ./run</code> in the root of the codebase. On MacOS and Linux you can use a simpler form of <code class="language-plaintext highlighter-rouge">./run</code>,
however, this doc will use the former form in order to stay cross-platform compatible. Run
<code class="language-plaintext highlighter-rouge">node ./run help</code> to learn about available commands and options. All arguments provided after the
<code class="language-plaintext highlighter-rouge">--</code> symbol will be passed to sub-commands. For example <code class="language-plaintext highlighter-rouge">node ./run build -- --dev</code> will pass the
<code class="language-plaintext highlighter-rouge">--dev</code> flag to <code class="language-plaintext highlighter-rouge">cargo</code> (Rust build tool). The most common options are presented below:</p>

<ul>
  <li>
    <p><strong>Interactive mode</strong>
Run <code class="language-plaintext highlighter-rouge">node ./run watch</code> to start a local web-server and a source-file watch utility which will
build the project on every change. Open <code class="language-plaintext highlighter-rouge">http://localhost:8080</code> (the port may vary and will be
reported in the terminal if <code class="language-plaintext highlighter-rouge">8080</code> was already in use) to run the application, or
<code class="language-plaintext highlighter-rouge">http://localhost:8080/debug</code> to open example demo scenes. Please remember to disable the cache in
your browser during the development! By default, the script disables heavyweight optimizations to
provide interactive development experience. The scripts are thin wrappers for
<a href="https://github.com/rustwasm/wasm-pack">wasm-pack</a> and accept the same
<a href="https://rustwasm.github.io/wasm-pack/book/commands/build.html">command line arguments</a>.</p>
  </li>
  <li>
    <p><strong>Production mode</strong>
In order to compile in a production mode (enable all optimizations, strip WASM debug symbols,
minimize the output binaries, etc.), run <code class="language-plaintext highlighter-rouge">node ./run build</code>. To create platform-specific packages
and installers use <code class="language-plaintext highlighter-rouge">node ./run dist</code> instead. The final packages will be located at
<code class="language-plaintext highlighter-rouge">app/dist/native</code>.</p>
  </li>
</ul>

<h3 id="testing-linting-and-validation">Testing, Linting, and Validation</h3>
<p>After changing the code it’s always a good idea to lint and test the code. We have prepared several
scripts which maximally automate the process:</p>

<ul>
  <li>
    <p><strong>Size Validation</strong>
Use <code class="language-plaintext highlighter-rouge">node ./run check-size</code> to check if the size of the final binary did not grew too much in
comparison to the previous release. Watching the resulting binary size is one of the most
important responsibility of each contributor in order to keep the project small and suitable for
web-based usage.</p>
  </li>
  <li>
    <p><strong>Testing</strong>
For the test suite to run you need a current version of Chrome installed.
Use <code class="language-plaintext highlighter-rouge">node ./run test</code> run both unit and web-based visual test.</p>

    <ul>
      <li><em>Note for Windows users</em>:
there is a <a href="https://github.com/rustwasm/wasm-pack/issues/611">known issue with wasm-pack</a> using the
wrong version of the chrome driver. There is
<a href="https://github.com/rustwasm/wasm-pack/issues/611#issuecomment-522093207">a workaround</a> described in
the issue: download compatible ChromeDriver from the
<a href="https://chromedriver.chromium.org/downloads">official source</a> and ensure it is in your <code class="language-plaintext highlighter-rouge">PATH</code>.</li>
    </ul>
  </li>
  <li>
    <p><strong>Linting</strong>
Please be sure to fix all errors reported by <code class="language-plaintext highlighter-rouge">node ./run lint</code> before creating a pull request to
this repository.</p>
  </li>
</ul>


                        
                        
                        <a href="https://github.com/luna/enso/blob/master/docs/ide/CONTRIBUTING.md">Open this doc on GitHub</a>
                        
                    </section>
                </div>

                 <!--<div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<script>
var search = instantsearch({
  appId: '3PBI3MMCBE',
  apiKey: '55d673c313b717b7386df8c9418588d4',
  indexName: 'jekyll',
  searchFunction(helper) {
    var container = document.querySelector('#search-hits');
    container.style.display = helper.state.query === '' ? 'none' : '';

    helper.search();
  }
});

var hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  var title = hit._highlightResult.title.value;

  var content = hit._highlightResult.html.value;

  return `
    <li class="post-item chapter">
      <a href="${url}" class="post-link">${title}</a>
      <div class="post-snippet">${content}</div>
    </li>
  `;
}


search.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-searchbar',
    placeholder: 'Search the docs',
    poweredBy: true // This is required if you're on the free Community plan
  })
);

search.addWidget(
  instantsearch.widgets.hits({
    container: '#search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

search.start();
</script>

<style>
.ais-search-box {
  max-width: 100%;
  margin-bottom: 15px;
}
.post-item {
  margin-bottom: 30px;
}
.post-link .ais-Highlight {
  color: #111;
  font-style: normal;
  text-decoration: underline;
}
.post-breadcrumbs {
  color: #424242;
  display: block;
}
.post-breadcrumb {
  font-size: 18px;
  color: #424242;
}
.post-breadcrumb .ais-Highlight {
  font-weight: bold;
  font-style: normal;
}
.post-snippet .ais-Highlight {
  color: #2a7ae2;
  font-style: normal;
  font-weight: bold;
}
.post-snippet img {
  display: none;
}

.post-list {
    list-style:none;
    margin:0;
    padding: 10px 15px;
    -webkit-transition:top .5s ease;
    -moz-transition:top .5s ease;
    -o-transition:top .5s ease;
    transition:top .5s ease
}

#search-hits::after {
    content: '';
    display: block;
    height: 1px;
    margin: 7px 0;
    overflow: hidden;
    background: rgba(0,0,0,.07);
}
</style>-->
            </div>
        </div>
    </div>
</div>

                    <a href="/docsideCONTRIBUTING.md" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Enso Developer Documentation docsideCONTRIBUTING.md">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
            
            </div>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},
            "sharing": {
                "all": ["facebook", "google", "twitter", "weibo", "instapaper"],
                "facebook": true,
                "google": false,
                "instapaper": false,
                "twitter": true,
                "vk": false,
                "weibo": false
            },
            "theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            }
        },
        "theme": "default",
        "author": "Tao He",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "Enso Developer Documentation",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "docs/ide/CONTRIBUTING.md",
        "mtime": "",
        "type": "markdown"
    },
    "gitbook": {
        "version": "3.2.3",
        "time": "2020-07-06 13:56:21 +0000"
    },
    "basePath": "",
    "book": {
        "language": ""
    }
});
            });
            </script>
        </div><script src="/gitbook/gitbook.js"></script>
<script src="/gitbook/theme.js"></script>

<script src="/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>

<!-- <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script> --></body>
</html>