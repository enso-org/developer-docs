<!DOCTYPE HTML>
<html lang="en" >
    <head><meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>Types and Type Signatures · Enso Developer Documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="The developer documentation for the Enso compiler, runtime, and IDE..
"><meta name="generator" content="Jekyll (using style of GitBook 3.2.3)"><meta name="author" content="Enso.org"><link rel="stylesheet" href="/gitbook/style.css">
<link rel="stylesheet" href="/gitbook/gitbook-plugin-fontsettings/website.css">
<!-- <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css"> -->

<link rel="stylesheet" href="/gitbook/rouge-highlight-colorful.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="/gitbook/images/favicon.ico" type="image/x-icon">
        

        
        


        
        
        

        
        
        

        
            <link rel="prev" href="/docs/enso/syntax/assignment.html" />
        

        
            <link rel="next" href="/docs/enso/syntax/macros.html" />
        
    </head>
    <body>
        
        <div class="book"><div class="book-summary">
    <div id="search-searchbar">
    </div>
    <div class="post-list" id="search-hits">
        
      </div>
      <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<script>
var search = instantsearch({
  appId: '3PBI3MMCBE',
  apiKey: '55d673c313b717b7386df8c9418588d4',
  indexName: 'jekyll',
  searchFunction(helper) {
    var container = document.querySelector('#search-hits');
    container.style.display = helper.state.query === '' ? 'none' : '';

    helper.search();
  }
});

var hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  var title = hit._highlightResult.title.value;

  var content = hit._highlightResult.html.value;

  return `
    <li class="post-item chapter">
      <a href="${url}" class="post-link">${title}</a>
      <div class="post-snippet">${content}</div>
    </li>
  `;
}


search.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-searchbar',
    placeholder: 'Search the docs',
    poweredBy: true // This is required if you're on the free Community plan
  })
);

search.addWidget(
  instantsearch.widgets.hits({
    container: '#search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

search.start();
</script>

<style>
.ais-search-box {
  max-width: 100%;
  margin-bottom: 15px;
}
.post-item {
  margin-bottom: 30px;
}
.post-link .ais-Highlight {
  color: #111;
  font-style: normal;
  text-decoration: underline;
}
.post-breadcrumbs {
  color: #424242;
  display: block;
}
.post-breadcrumb {
  font-size: 18px;
  color: #424242;
}
.post-breadcrumb .ais-Highlight {
  font-weight: bold;
  font-style: normal;
}
.post-snippet .ais-Highlight {
  color: #2a7ae2;
  font-style: normal;
  font-weight: bold;
}
.post-snippet img {
  display: none;
}

.post-list {
    list-style:none;
    margin:0;
    padding: 10px 15px;
    -webkit-transition:top .5s ease;
    -moz-transition:top .5s ease;
    -o-transition:top .5s ease;
    transition:top .5s ease
}

#search-hits::after {
    content: '';
    display: block;
    height: 1px;
    margin: 7px 0;
    overflow: hidden;
    background: rgba(0,0,0,.07);
}
</style>
    <nav role="navigation">
        <ul class="summary">
            
            <li class="chapter" data-level="1.1" data-path="/">
            
                <a href="/">
                    Home
                </a>
            </li>

            <li class="divider"></li>
            
            
            
            
            

            
            
        
            
            <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax ">
                    <a href="/docs/enso/syntax">
                        Go back
                    </a>
                </li>
                <li class="divider"></li>
            
                
             
            
            
            
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/">
                    
                        <a href="/docs/enso/syntax/">
                            
                                Enso&#39;s Syntax
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/encoding.html">
                    
                        <a href="/docs/enso/syntax/encoding.html">
                            
                                Source File Encoding
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/naming.html">
                    
                        <a href="/docs/enso/syntax/naming.html">
                            
                                Naming
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/layout.html">
                    
                        <a href="/docs/enso/syntax/layout.html">
                            
                                Layout Rules
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/imports.html">
                    
                        <a href="/docs/enso/syntax/imports.html">
                            
                                Imports and Exports
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/literals.html">
                    
                        <a href="/docs/enso/syntax/literals.html">
                            
                                Literals
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/assignment.html">
                    
                        <a href="/docs/enso/syntax/assignment.html">
                            
                                Assignment Expressions
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter active" data-level="1.2" data-path="/docs/enso/syntax/types.html">
                    
                        <a href="/docs/enso/syntax/types.html">
                            
                                Types and Type Signatures
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/macros.html">
                    
                        <a href="/docs/enso/syntax/macros.html">
                            
                                The Enso Macro Syntax
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/top-level.html">
                    
                        <a href="/docs/enso/syntax/top-level.html">
                            
                                Enso Top-Level Syntax
                            
                        </a>
                    </li>
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/functions.html">
                    
                        <a href="/docs/enso/syntax/functions.html">
                            
                                Defining Functions
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/function-arguments.html">
                    
                        <a href="/docs/enso/syntax/function-arguments.html">
                            
                                Function Arguments
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/projections.html">
                    
                        <a href="/docs/enso/syntax/projections.html">
                            
                                Projections and Field Access
                            
                        </a>
                    </li>
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/syntax/comments.html">
                    
                        <a href="/docs/enso/syntax/comments.html">
                            
                                Comments
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            

            
        
        </ul>
    </nav>
</div>
<div class="book-body"><div class="body-inner">
    <div class="book-header" role="navigation">
        <!-- Title -->
        <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i>
            
                <a href="." >Types and Type Signatures</a>
            
        </h1>
    </div>
    <div class="page-wrapper" tabindex="-1" role="main">
        <div class="page-inner">
            <div id="book-search-results">
                <div class="search-noresults">
                    <section class="normal markdown-section">
                        <h1 id="types-and-type-signatures">Types and Type Signatures</h1>

<p>Enso is a statically typed language, meaning that every variable is associated
with information about the possible values it can take. In Enso, the type
language is the same as the term language, with no artificial separation. For
more information on the type system, please see the <a href="/docs/enso/types/">types</a>
design document.</p>

<p>This section will refer to terminology that has not been defined in <em>this</em>
document. This is as this document is a specification rather than a guide, and
it is expected that you have read the above-linked document on the type-system
design as well.</p>

<p>Additionally, this document will colloquially refer to the left and right hand
sides of the type ascription operator <code class="language-plaintext highlighter-rouge">:</code> as the ‘term’ and ‘type’ levels,
respectively. In reality, there is no separation between the two in Enso, but it
is a useful way of thinking about things when discussing type signatures.</p>

<!-- MarkdownTOC levels="2,3" autolink="true" -->

<ul>
  <li><a href="#type-signatures">Type Signatures</a>
    <ul>
      <li><a href="#type-operators">Type Operators</a></li>
      <li><a href="#typeset-literals">Typeset Literals</a></li>
      <li><a href="#writing-type-signatures">Writing Type Signatures</a></li>
      <li><a href="#behaviour-of-type-signatures">Behaviour of Type Signatures</a></li>
    </ul>
  </li>
  <li><a href="#operations-on-types">Operations on Types</a></li>
  <li><a href="#type-definitions">Type Definitions</a>
    <ul>
      <li><a href="#visibility-and-access-modifiers">Visibility and Access Modifiers</a></li>
    </ul>
  </li>
</ul>

<!-- /MarkdownTOC -->

<h2 id="type-signatures">Type Signatures</h2>

<p>Enso allows users to provide explicit type signatures for values through use of
the type ascription operator <code class="language-plaintext highlighter-rouge">:</code>. The expression <code class="language-plaintext highlighter-rouge">a : b</code> says that the value <code class="language-plaintext highlighter-rouge">a</code>
has the type <code class="language-plaintext highlighter-rouge">b</code> attributed to it.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">foo</span> <span class="p">:</span> <span class="p">(</span><span class="n">m</span> <span class="p">:</span> <span class="no">Monoid</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">m</span><span class="p">.</span><span class="nf">this</span>
</code></pre></div></div>

<p>Type signatures in Enso have some special syntax:</p>

<ul>
  <li>
    <p>The reserved name <code class="language-plaintext highlighter-rouge">in</code> is used to specify the monadic context in which a value
resides. The Enso expression <code class="language-plaintext highlighter-rouge">a in IO</code> is equivalent to the Haskell
<code class="language-plaintext highlighter-rouge">MonadIO a</code>.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">foo</span> <span class="p">:</span> <span class="no">Int</span> <span class="o">-&gt;</span> <span class="no">Int</span> <span class="k">in</span> <span class="no">IO</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The operator <code class="language-plaintext highlighter-rouge">!</code> is used to specify the potential for an <em>error</em> value in a
type. The expression <code class="language-plaintext highlighter-rouge">a ! E</code> says that the type is either an <code class="language-plaintext highlighter-rouge">a</code> or an error
value of type <code class="language-plaintext highlighter-rouge">E</code>.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="sr">/ : Number -&gt; Number -&gt; Number ! ArithError
</span></code></pre></div>    </div>
  </li>
</ul>

<h3 id="type-operators">Type Operators</h3>

<p>Please note that <code class="language-plaintext highlighter-rouge">:</code>, <code class="language-plaintext highlighter-rouge">in</code>, and <code class="language-plaintext highlighter-rouge">!</code> all behave as <em>standard operators</em> in Enso.
This means that you can section them, which is incredibly useful for programming
with types. In addition, Enso supports a number of additional operators for
working with types. These are listed below.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Operator</th>
      <th style="text-align: center">Precedence Relations</th>
      <th style="text-align: center">Level</th>
      <th style="text-align: center">Assoc.</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">:</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt; =</code></td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Ascribes the type (the right operand) to the value of the left operand.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">in</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt; :</code>, <code class="language-plaintext highlighter-rouge">&gt; !</code></td>
      <td style="text-align: center">3</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Ascribes the context (the right operand) to the value of the left operand.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">!</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt; :</code>, <code class="language-plaintext highlighter-rouge">&gt; -&gt;</code></td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Combines the left operand with the right operand as an error value.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-&gt;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt; :</code></td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Represents a mapping from the left operand to the right operand (function).</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&lt;:</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt; !</code>, <code class="language-plaintext highlighter-rouge">&lt; \|</code>, <code class="language-plaintext highlighter-rouge">&gt; in</code></td>
      <td style="text-align: center">4</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Asserts that the left operand is structurally subsumed by the right.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">~</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">== &lt;:</code></td>
      <td style="text-align: center">4</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Asserts that the left and right operands are structurally equal.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&lt; :</code>, <code class="language-plaintext highlighter-rouge">&gt; =</code></td>
      <td style="text-align: center">-2</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Concatenates the left and right operand typesets to create a new typeset.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">\|</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt; &lt;:</code>, <code class="language-plaintext highlighter-rouge">&gt; !</code>, <code class="language-plaintext highlighter-rouge">&gt; in</code>, <code class="language-plaintext highlighter-rouge">&gt; :</code></td>
      <td style="text-align: center">5</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Computes the union of the left and right operand typesets.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&amp;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt; \|</code></td>
      <td style="text-align: center">6</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Computes the intersection of the left and right operand typesets.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">\</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt; &amp;</code></td>
      <td style="text-align: center">7</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Computes the subtraction of the right typeset from the left typeset.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">:=</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&lt; :</code>, <code class="language-plaintext highlighter-rouge">&gt; =</code>, <code class="language-plaintext highlighter-rouge">&gt; ;</code></td>
      <td style="text-align: center">-1</td>
      <td style="text-align: center">Left</td>
      <td style="text-align: left">Creates a typeset member by assigning a value to a label.</td>
    </tr>
  </tbody>
</table>

<p>Solving this set of inequalities produces the <em>relative</em> precedence levels for
these operators shown in the table above. In order to check this, you can use
the following formula as an input to an SMTLib compatible solver. For reference,
bind (<code class="language-plaintext highlighter-rouge">=</code>) has a relative level of -3 in this ordering.</p>

<div class="language-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">ascrip</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>   <span class="c1">; `:`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">bind</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>     <span class="c1">; `=`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">in</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>       <span class="c1">; `in`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">err</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>      <span class="c1">; `!`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">fn</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>       <span class="c1">; `-&gt;`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">sub</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>      <span class="c1">; `&lt;:`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nb">eq</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>       <span class="c1">; `~`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">tsConcat</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span> <span class="c1">; `;`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">tsUnion</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>  <span class="c1">; `|`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">tsInter</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>  <span class="c1">; `&amp;`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">minus</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span>    <span class="c1">; `\`</span>
<span class="p">(</span><span class="nv">declare-fun</span> <span class="nv">tsMember</span> <span class="p">()</span> <span class="nv">Int</span><span class="p">)</span> <span class="c1">; `:=`</span>

<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">ascrip</span> <span class="nv">bind</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">in</span> <span class="nv">ascrip</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">in</span> <span class="nv">err</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">err</span> <span class="nv">ascrip</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">err</span> <span class="nv">fn</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">fn</span> <span class="nv">ascrip</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">sub</span> <span class="nv">err</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">sub</span> <span class="nv">tsUnion</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">sub</span> <span class="nv">in</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">=</span> <span class="nb">eq</span> <span class="nv">sub</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">tsConcat</span> <span class="nv">ascrip</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">tsConcat</span> <span class="nv">bind</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">tsUnion</span> <span class="nv">sub</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">tsUnion</span> <span class="nv">err</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">tsUnion</span> <span class="nv">in</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">tsUnion</span> <span class="nv">ascrip</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">tsInter</span> <span class="nv">tsUnion</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">minus</span> <span class="nv">tsInter</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">tsMember</span> <span class="nv">ascrip</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">tsMember</span> <span class="nv">bind</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">tsMember</span> <span class="nv">tsConcat</span><span class="p">))</span>

<span class="p">(</span><span class="nv">check-sat</span><span class="p">)</span>
<span class="p">(</span><span class="nv">get-model</span><span class="p">)</span>
<span class="p">(</span><span class="nv">exit</span><span class="p">)</span>
</code></pre></div></div>

<p>A permalink to the program using an online Z3 console can be found
<a href="https://rise4fun.com/Z3/e99K">here</a>.</p>

<blockquote>
  <p>The actionables for this section are:</p>

  <ul>
    <li>Decide which of these should be exposed in the surface syntax.</li>
  </ul>
</blockquote>

<h3 id="typeset-literals">Typeset Literals</h3>

<p>Sometimes it is useful or necessary to write a typeset <em>literal</em> in your code.
These work as follows.</p>

<ul>
  <li>
    <p><strong>Typeset Member:</strong> Syntax for typeset members have three components:</p>

    <ul>
      <li><strong>Label:</strong> The name of the member. This must always be present.</li>
      <li><strong>Type:</strong> The type of the member. This need not be present.</li>
      <li><strong>Value:</strong> A value for the member. This need not be present.</li>
    </ul>

    <p>This looks like the following:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">label</span> <span class="p">:</span> <span class="no">Type</span> <span class="p">:</span><span class="o">=</span> <span class="n">value</span>
</code></pre></div>    </div>

    <p>Please note that the right-hand-side of the <code class="language-plaintext highlighter-rouge">:=</code> operator is <em>not</em> a pattern
context.</p>
  </li>
  <li>
    <p><strong>Member Concatenation:</strong> Members can be combined into a typeset using the
concatenation operator <code class="language-plaintext highlighter-rouge">;</code>.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="p">;</span> <span class="n">y</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Typeset Literals:</strong> A typeset literal consists of zero or more typeset
member definitions concatenated while surrounded by curly braces <code class="language-plaintext highlighter-rouge">{}</code>. The
braces are necessary as they delimit a pattern context to allow the
introduction of new identifiers.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span> <span class="ss">x: </span><span class="no">T</span> <span class="p">;</span> <span class="ss">y: </span><span class="no">Q</span> <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>Typeset literals are considered to be a
<a href="/docs/enso/syntax/naming.html#pattern-contexts">pattern context</a>, and hence the standard rules
apply.</p>

<h3 id="writing-type-signatures">Writing Type Signatures</h3>

<p>When ascribing a type to a value, there are two main ways in which it can be
done. Both of these ways are <em>semantically</em> equivalent, and ascribe the type
given by the signature (to the right of the <code class="language-plaintext highlighter-rouge">:</code>) to the expression to the left
of the <code class="language-plaintext highlighter-rouge">:</code>.</p>

<ol>
  <li>
    <p><strong>Inline Ascription:</strong> Using the type ascription operator to associate a
type signature with an arbitrary expression.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_expr</span> <span class="p">:</span> <span class="no">Type</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Freestanding Ascription:</strong> Using the type ascription operator to associate
a type with a name. The name must be defined on <em>the line below</em> the
ascription.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="p">:</span> <span class="no">Type</span>
<span class="n">a</span> <span class="o">=</span> <span class="o">...</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Binding Ascription:</strong> Using the type ascription operator to associate a
type with a binding at the binding site.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="p">:</span> <span class="no">Type</span> <span class="o">=</span> <span class="o">...</span> <span class="c1"># this is equivalent to the above example</span>

<span class="p">(</span><span class="n">a</span> <span class="p">:</span> <span class="no">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">...</span> <span class="c1"># use in a lambda</span>
</code></pre></div>    </div>
  </li>
</ol>

<blockquote>
  <p>The actionables for this section are:</p>

  <ul>
    <li>In the future do we want to support freestanding ascription that isn’t
directly adjacent to the ascribed value?</li>
  </ul>
</blockquote>

<h3 id="behaviour-of-type-signatures">Behaviour of Type Signatures</h3>

<p>In Enso, a type signature operates to constrain the values that a given variable
can hold. Type signatures are <em>always</em> checked, but Enso may maintain more
specific information in the type inference and checking engines about the type
of a variable. This means that:</p>

<ul>
  <li>Enso will infer constraints on types that you haven’t necessarily written.</li>
  <li>Type signatures can act as a sanity check in that you can encode your
intention as a type.</li>
  <li>If the value is of a known type (distinguished from a dynamic type),
constraints will be introduced on that type.</li>
  <li>Where the type of the value is known, ascription can be used to constrain that
type further.</li>
  <li>It is legal to add constraints to an identifier using <code class="language-plaintext highlighter-rouge">:</code> in any scope in
which the identifier is visible.</li>
</ul>

<p>From a syntactic perspective, the type ascription operator <code class="language-plaintext highlighter-rouge">:</code> has the following
properties:</p>

<ul>
  <li>The right hand operand to the operator introduces a pattern context.</li>
  <li>The right hand side may declare fresh variables that occur in that scope.</li>
  <li>It is not possible to ascribe a type to an identifier without also assigning
to that identifier.</li>
  <li>Introduced identifiers will always shadow other identifiers in scope due to
the fact that <code class="language-plaintext highlighter-rouge">:</code> introduces a new scope on its RHS.</li>
  <li>Constraint implication is purely feed-forward. The expression <code class="language-plaintext highlighter-rouge">b:A</code> only
introduces constraints to <code class="language-plaintext highlighter-rouge">b</code>.</li>
</ul>

<blockquote>
  <p>The actionables for this section are:</p>

  <ul>
    <li>How do signatures interact with function bodies in regards to scoping?</li>
    <li>Does this differ for root and non-root definitions?</li>
  </ul>
</blockquote>

<h2 id="operations-on-types">Operations on Types</h2>

<p>Enso also provides a set of rich operations on its underlying type-system notion
of typesets. Their syntax is as follows:</p>

<ul>
  <li><strong>Union - <code class="language-plaintext highlighter-rouge">|</code>:</strong> The resultant typeset may contain a value of the union of its
arguments.</li>
  <li><strong>Intersection - <code class="language-plaintext highlighter-rouge">&amp;</code>:</strong> The resultant typeset may contain values that are
members of <em>both</em> its arguments.</li>
  <li><strong>Subtraction - <code class="language-plaintext highlighter-rouge">\</code>:</strong> The resultant typeset may contain values that are in
the first argument’s set but not in the second.</li>
</ul>

<blockquote>
  <p>The actionables for this section are:</p>

  <ul>
    <li>Unify this with the types document at some point. The types document
supersedes this section while this actionable exists.</li>
  </ul>
</blockquote>

<h2 id="type-definitions">Type Definitions</h2>

<p>Types in Enso are defined by using the <code class="language-plaintext highlighter-rouge">type</code> reserved name. This works in a
context-dependent manner that is discussed properly in the
<a href="/docs/enso/types/">type system design document</a>, but is summarised briefly
below.</p>

<ul>
  <li>
    <p><strong>Name and Fields:</strong> When you provide the keyword with only a name and some
field names, this creates an atom.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">type</span> <span class="no">Just</span> <span class="n">value</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Body with Atom Definitions:</strong> If you provide a body with atom definitions,
this defines a smart constructor that defines the atoms and related functions
by returning a typeset.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">type</span> <span class="no">Maybe</span> <span class="n">a</span>
    <span class="no">Nothing</span>
    <span class="n">type</span> <span class="no">Just</span> <span class="p">(</span><span class="n">value</span> <span class="p">:</span> <span class="n">a</span><span class="p">)</span>

    <span class="n">isJust</span> <span class="o">=</span> <span class="k">case</span> <span class="n">this</span> <span class="n">of</span>
        <span class="no">Nothing</span> <span class="o">-&gt;</span> <span class="no">False</span>
        <span class="no">Just</span> <span class="n">_</span> <span class="o">-&gt;</span> <span class="no">True</span>

    <span class="n">nothing</span> <span class="o">=</span> <span class="n">not</span> <span class="n">isJust</span>
</code></pre></div>    </div>

    <p>Please note that the <code class="language-plaintext highlighter-rouge">type Foo (a : t)</code> is syntax only allowable inside a type
definition. It defines an atom <code class="language-plaintext highlighter-rouge">Foo</code>, but constrains the type variable of the
atom <em>in this usage</em>.</p>
  </li>
  <li>
    <p><strong>Body Without Atom Definitions:</strong> If you provide a body and do not define any
atoms within it, this creates an interface that asserts no atoms as part of
it.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">type</span> <span class="no">HasName</span>
<span class="ss">name: </span><span class="no">String</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>In addition, users may write explicit <code class="language-plaintext highlighter-rouge">this</code> constraints in a type definition,
using the standard type-ascription syntax:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">type</span> <span class="no">Semigroup</span>
    <span class="o">&lt;&gt;</span> <span class="p">:</span> <span class="n">this</span> <span class="o">-&gt;</span> <span class="n">this</span>

<span class="n">type</span> <span class="no">Monoid</span>
    <span class="n">this</span> <span class="p">:</span> <span class="no">Semigroup</span>
    <span class="n">use</span> <span class="no">Nothing</span>
</code></pre></div></div>

<h3 id="visibility-and-access-modifiers">Visibility and Access Modifiers</h3>

<p>While we don’t usually like making things private in a programming language, it
sometimes the case that it is necessary to indicate that certain fields should
not be touched (as this might break invariants and such like). To this end, we
propose an explicit mechanism for access modification that works as follows:</p>

<ul>
  <li>We have a set of access modifiers, namely <code class="language-plaintext highlighter-rouge">private</code> and <code class="language-plaintext highlighter-rouge">unsafe</code>.</li>
  <li>
    <p>We can place these modifiers before a top-level definition.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">type</span> <span class="no">MyAtomType</span>
    <span class="n">type</span> <span class="no">MyAtom</span> <span class="n">a</span>

    <span class="n">is_foo</span> <span class="p">:</span> <span class="no">Boolean</span>
    <span class="n">is_foo</span> <span class="o">=</span> <span class="o">...</span>

    <span class="kp">private</span> <span class="n">private_method</span> <span class="n">a</span> <span class="n">b</span> <span class="o">=</span> <span class="o">...</span>

    <span class="n">unsafe</span> <span class="n">unsafe_method</span> <span class="n">a</span> <span class="n">b</span> <span class="o">=</span> <span class="o">...</span>
</code></pre></div>    </div>
  </li>
  <li>By default, accessing any member under an access modifier is an error when
performed from another module.</li>
  <li>
    <p>To use members protected by an access modifier, you must <em>import</em> that access
modifier from the file in which you want to access those elements.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">import</span> <span class="kp">private</span> <span class="no">Base</span><span class="o">.</span><span class="no">Vector</span>
<span class="n">import</span> <span class="n">unsafe</span> <span class="no">Base</span><span class="o">.</span><span class="no">Atom</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>These modified imports are available in <em>all</em> scopes, so it is possible to
limit the scope in which you have access to the modified definitions.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">function_using_modifiers</span> <span class="n">v</span> <span class="n">x</span> <span class="o">=</span>
    <span class="n">import</span> <span class="kp">private</span> <span class="no">Base</span><span class="o">.</span><span class="no">Vector</span>
    <span class="n">import</span> <span class="n">unsafe</span> <span class="no">Base</span><span class="o">.</span><span class="no">Atom</span>

    <span class="n">v</span><span class="p">.</span><span class="nf">mutate_at_index</span> <span class="mi">0</span> <span class="p">(</span><span class="n">_</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="no">MyAtom</span><span class="p">.</span><span class="nf">mutate_field</span> <span class="nb">name</span><span class="o">=</span><span class="s2">"sum"</span> <span class="p">(</span><span class="n">with</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">+</span> <span class="mi">20</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>While <code class="language-plaintext highlighter-rouge">private</code> works as you might expect, coming from other languages, the
<code class="language-plaintext highlighter-rouge">unsafe</code> annotation has additional restrictions:</p>

<ul>
  <li>It must be explicitly imported from <code class="language-plaintext highlighter-rouge">Base.Unsafe</code>.</li>
  <li>When you use <code class="language-plaintext highlighter-rouge">unsafe</code>, you must write a documentation comment on its usage
that contains a section <code class="language-plaintext highlighter-rouge">Safety</code> that describes why this usage of unsafe is
valid.</li>
</ul>

                        
                        
                        <a href="https://github.com/enso-org/enso/blob/main/docs/enso/syntax/types.md">Open this doc on GitHub</a>
                        
                    </section>
                </div>

                 <!--<div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<script>
var search = instantsearch({
  appId: '3PBI3MMCBE',
  apiKey: '55d673c313b717b7386df8c9418588d4',
  indexName: 'jekyll',
  searchFunction(helper) {
    var container = document.querySelector('#search-hits');
    container.style.display = helper.state.query === '' ? 'none' : '';

    helper.search();
  }
});

var hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  var title = hit._highlightResult.title.value;

  var content = hit._highlightResult.html.value;

  return `
    <li class="post-item chapter">
      <a href="${url}" class="post-link">${title}</a>
      <div class="post-snippet">${content}</div>
    </li>
  `;
}


search.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-searchbar',
    placeholder: 'Search the docs',
    poweredBy: true // This is required if you're on the free Community plan
  })
);

search.addWidget(
  instantsearch.widgets.hits({
    container: '#search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

search.start();
</script>

<style>
.ais-search-box {
  max-width: 100%;
  margin-bottom: 15px;
}
.post-item {
  margin-bottom: 30px;
}
.post-link .ais-Highlight {
  color: #111;
  font-style: normal;
  text-decoration: underline;
}
.post-breadcrumbs {
  color: #424242;
  display: block;
}
.post-breadcrumb {
  font-size: 18px;
  color: #424242;
}
.post-breadcrumb .ais-Highlight {
  font-weight: bold;
  font-style: normal;
}
.post-snippet .ais-Highlight {
  color: #2a7ae2;
  font-style: normal;
  font-weight: bold;
}
.post-snippet img {
  display: none;
}

.post-list {
    list-style:none;
    margin:0;
    padding: 10px 15px;
    -webkit-transition:top .5s ease;
    -moz-transition:top .5s ease;
    -o-transition:top .5s ease;
    transition:top .5s ease
}

#search-hits::after {
    content: '';
    display: block;
    height: 1px;
    margin: 7px 0;
    overflow: hidden;
    background: rgba(0,0,0,.07);
}
</style>-->
            </div>
        </div>
    </div>
</div>

                <a href="/docs/enso/syntax/assignment.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Assignment Expressions">
                    <i class="fa fa-angle-left"></i>
                </a>
                

                
                    <a href="/docs/enso/syntax/macros.html" class="navigation navigation-next navigation-unique" aria-label="Next page: The Enso Macro Syntax">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            
            </div>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},
            "sharing": {
                "all": ["facebook", "google", "twitter", "weibo", "instapaper"],
                "facebook": true,
                "google": false,
                "instapaper": false,
                "twitter": true,
                "vk": false,
                "weibo": false
            },
            "theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            }
        },
        "theme": "default",
        "author": "Tao He",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "Enso Developer Documentation",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "docs/enso/syntax/types.md",
        "mtime": "",
        "type": "markdown"
    },
    "gitbook": {
        "version": "3.2.3",
        "time": "2020-08-21 09:17:54 +0000"
    },
    "basePath": "",
    "book": {
        "language": ""
    }
});
            });
            </script>
        </div><script src="/gitbook/gitbook.js"></script>
<script src="/gitbook/theme.js"></script>

<script src="/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>

<!-- <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script> --></body>
</html>