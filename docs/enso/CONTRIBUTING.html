<!DOCTYPE HTML>
<html lang="en" >
    <head><meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>Contributing to Enso · Enso Developer Documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="The developer documentation for the Enso compiler, runtime, and IDE..
"><meta name="generator" content="Jekyll (using style of GitBook 3.2.3)"><meta name="author" content="Enso.org"><link rel="stylesheet" href="/gitbook/style.css">
<link rel="stylesheet" href="/gitbook/gitbook-plugin-fontsettings/website.css">
<!-- <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css"> -->

<link rel="stylesheet" href="/gitbook/rouge-highlight-colorful.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="/gitbook/images/favicon.ico" type="image/x-icon">
        

        
        


        
        
        

        
        
        

        
            <link rel="prev" href="/docs/enso/enso-philosophy.html" />
        

        
            <link rel="next" href="/docs/enso/CODE_OF_CONDUCT.html" />
        
    </head>
    <body>
        
        <div class="book"><div class="book-summary">
    <div id="search-searchbar">
    </div>
    <div class="post-list" id="search-hits">
        
      </div>
      <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<script>
var search = instantsearch({
  appId: '3PBI3MMCBE',
  apiKey: '55d673c313b717b7386df8c9418588d4',
  indexName: 'jekyll',
  searchFunction(helper) {
    var container = document.querySelector('#search-hits');
    container.style.display = helper.state.query === '' ? 'none' : '';

    helper.search();
  }
});

var hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  var title = hit._highlightResult.title.value;

  var content = hit._highlightResult.html.value;

  return `
    <li class="post-item chapter">
      <a href="${url}" class="post-link">${title}</a>
      <div class="post-snippet">${content}</div>
    </li>
  `;
}


search.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-searchbar',
    placeholder: 'Search the docs',
    poweredBy: true // This is required if you're on the free Community plan
  })
);

search.addWidget(
  instantsearch.widgets.hits({
    container: '#search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

search.start();
</script>

<style>
.ais-search-box {
  max-width: 100%;
  margin-bottom: 15px;
}
.post-item {
  margin-bottom: 30px;
}
.post-link .ais-Highlight {
  color: #111;
  font-style: normal;
  text-decoration: underline;
}
.post-breadcrumbs {
  color: #424242;
  display: block;
}
.post-breadcrumb {
  font-size: 18px;
  color: #424242;
}
.post-breadcrumb .ais-Highlight {
  font-weight: bold;
  font-style: normal;
}
.post-snippet .ais-Highlight {
  color: #2a7ae2;
  font-style: normal;
  font-weight: bold;
}
.post-snippet img {
  display: none;
}

.post-list {
    list-style:none;
    margin:0;
    padding: 10px 15px;
    -webkit-transition:top .5s ease;
    -moz-transition:top .5s ease;
    -o-transition:top .5s ease;
    transition:top .5s ease
}

#search-hits::after {
    content: '';
    display: block;
    height: 1px;
    margin: 7px 0;
    overflow: hidden;
    background: rgba(0,0,0,.07);
}
</style>
    <nav role="navigation">
        <ul class="summary">
            
            <li class="chapter" data-level="1.1" data-path="/">
            
                <a href="/">
                    Home
                </a>
            </li>

            <li class="divider"></li>
            
            
            
            
            

            
            
        
            
            <li class="chapter" data-level="1.1" data-path="/docs/enso ">
                    <a href="/docs/enso">
                        Go back
                    </a>
                </li>
                <li class="divider"></li>
            
                
             
            
            
            
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/">
                    
                        <a href="/docs/enso/">
                            
                                Enso Engine Developer Documentation
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/enso-philosophy.html">
                    
                        <a href="/docs/enso/enso-philosophy.html">
                            
                                Enso&#39;s Philosophy
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter active" data-level="1.2" data-path="/docs/enso/CONTRIBUTING.html">
                    
                        <a href="/docs/enso/CONTRIBUTING.html">
                            
                                Contributing to Enso
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/CODE_OF_CONDUCT.html">
                    
                        <a href="/docs/enso/CODE_OF_CONDUCT.html">
                            
                                The Enso Code of Conduct
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/SECURITY.html">
                    
                        <a href="/docs/enso/SECURITY.html">
                            
                                Security Policy
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
                    
                    <li class="chapter" data-level="1.1" data-path="/docs/enso/getting-enso.html">
                    
                        <a href="/docs/enso/getting-enso.html">
                            
                                Getting Enso
                            
                        </a>
                    </li>
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            
            
                
            
            

            
        
        </ul>
    </nav>
</div>
<div class="book-body"><div class="body-inner">
    <div class="book-header" role="navigation">
        <!-- Title -->
        <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i>
            
                <a href="." >Contributing to Enso</a>
            
        </h1>
    </div>
    <div class="page-wrapper" tabindex="-1" role="main">
        <div class="page-inner">
            <div id="book-search-results">
                <div class="search-noresults">
                    <section class="normal markdown-section">
                        <h1 id="contributing-to-enso">Contributing to Enso</h1>
<p>Thank you for your interest in contributing to Enso! We believe that only
through community involvement can Enso be the best it can be! There are a whole
host of ways to contribute, and every single one is appreciated. The major
sections of this document are linked below:</p>

<!-- MarkdownTOC levels="2,3" autolink="true" -->

<ul>
  <li><a href="#the-contributor-license-agreement">The Contributor License Agreement</a></li>
  <li><a href="#issues">Issues</a></li>
  <li><a href="#feature-enhancements">Feature Enhancements</a></li>
  <li><a href="#bug-reports">Bug Reports</a></li>
  <li><a href="#hacking-on-enso">Hacking on Enso</a>
    <ul>
      <li><a href="#design-documentation">Design Documentation</a></li>
      <li><a href="#system-requirements">System Requirements</a></li>
      <li><a href="#getting-the-sources">Getting the Sources</a></li>
      <li><a href="#getting-set-up-rust">Getting Set Up (Rust)</a></li>
      <li><a href="#getting-set-up-jvm">Getting Set Up (JVM)</a></li>
      <li><a href="#building-enso">Building Enso</a></li>
      <li><a href="#running-enso">Running Enso</a></li>
    </ul>
  </li>
  <li><a href="#pull-requests">Pull Requests</a></li>
  <li><a href="#documentation">Documentation</a></li>
  <li><a href="#issue-triage">Issue Triage</a></li>
  <li><a href="#out-of-tree-contributions">Out-of-Tree Contributions</a></li>
  <li><a href="#helpful-documentation-and-links">Helpful Documentation and Links</a></li>
</ul>

<!-- /MarkdownTOC -->

<p>All contributions to Enso should be in keeping with our
<a href="/docs/enso/CODE_OF_CONDUCT.html">Code of Conduct</a>.</p>

<h2 id="the-contributor-license-agreement">The Contributor License Agreement</h2>
<p>As part of your first contribution to this repository, you need to accept the
Contributor License Agreement. You will automatically be asked to sign the CLA
when you make your first pull request.</p>

<p>Any work intentionally submitted for inclusion in Enso shall be licensed under
this CLA.</p>

<p>The CLA you sign applies to all repositories associated with the Enso project,
so you will only have to sign it once at the start of your contributions.</p>

<h2 id="issues">Issues</h2>
<p>If you’re wanting to get involved with Enso’s development and are looking for
somewhere to start, you can check out the following tags in our issues:</p>

<ul>
  <li><a href="https://github.com/enso-org/enso/labels/Status%3A%20Good%20First%20Issue">Good First Issue</a></li>
  <li><a href="https://github.com/enso-org/enso/labels/Status%3A%20Help%20Wanted">Help Wanted</a></li>
</ul>

<p>You can use the “Size” and “Difficulty” labels that should be assigned to every
issue to get a better idea of how much work a given issue might be.</p>

<h2 id="feature-enhancements">Feature Enhancements</h2>
<p>If you feel like you have a suggestion for a change to the way that Enso works
as a language, please take a look at the
<a href="/docs/enso/rfcs/">Enso RFC process</a> to learn how to file an RFC for the
project.</p>

<p>In essence, the RFC process provides a way to propose major changes to the
language, the compiler, and the runtime in a way that ensures that they get
seen and discussed by all the major stakeholders involved.</p>

<p>If, on the other hand, you’re asking for a smaller feature, please feel free to
submit a <a href="https://github.com/enso-org/enso/issues/new?assignees=&amp;labels=Type%3A+Enhancement&amp;template=feature-request.md&amp;title=">feature request</a>
to the repository.</p>

<h2 id="bug-reports">Bug Reports</h2>
<p>While it’s never great to find a bug, they are a reality of software and
software development! We can’t fix or improve on the things that we don’t know
about, so report as many bugs as you can! If you’re not sure whether something
is a bug, file it anyway!</p>

<p><strong>If you are concerned that your bug publicly presents a security risk to the
users of Enso, please look at our <a href="/docs/enso/SECURITY.html">security guidelines</a>.</strong></p>

<p>Even though GitHub search can be a bit hard to use sometimes, we’d appreciate if
you could
<a href="https://github.com/enso-org/enso/search?q=&amp;type=Issues&amp;utf8=%E2%9C%93">search</a> for
your issue before filing a bug as it’s possible that someone else has already
reported the issue. We know the search isn’t the best, and it can be hard to
know what to search for, so we really don’t mind if you do submit a duplicate!</p>

<p>Opening an issue is as easy as following
<a href="https://github.com/enso-org/enso/issues/new?template=bug-report.md">this link</a>
and filling out the fields. The template is intended to collect all the
information we need to best diagnose the issue, so please take the time to fill
it out accurately.</p>

<p>The reproduction steps are particularly important, as the more easily we can
reproduce it, the faster we can fix the bug! It’s also helpful to have the
output of <code class="language-plaintext highlighter-rouge">enso --version</code>, as that will let us know if the bug is Operating
System or Architecture specific.</p>

<h2 id="hacking-on-enso">Hacking on Enso</h2>
<p>This will get you up and running for Enso development, with only a minimal
amount of setup required. Enso’s build system is fairly simple, allowing you to
bootstrap the compiler as long as you have a minimal set of tools.</p>

<h3 id="design-documentation">Design Documentation</h3>
<p>If you’re going to start contributing to Enso, it is often a good idea to take a
look at the design documentation for the language. These files explain provide
both a rigorous specification of Enso’s design, but also insight into the <em>why</em>
behind the decisions that have been made.</p>

<p>These can be found in <a href="/docs/enso/"><code class="language-plaintext highlighter-rouge">docs/</code></a>, and are organised by the part of the
compiler that they relate to.</p>

<h3 id="system-requirements">System Requirements</h3>
<p>In order to build and run Enso you will need the following tools:</p>

<ul>
  <li><a href="https://www.scala-sbt.org/">sbt</a> with the same version as specified in
<a href="../project/build.properties"><code class="language-plaintext highlighter-rouge">project/build.properties</code></a>.</li>
  <li><a href="https://www.graalvm.org/">GraalVM</a> with the same version as described in the
<a href="../build.sbt"><code class="language-plaintext highlighter-rouge">build.sbt</code></a> file, configured as your default JVM. GraalVM is
distributed for different Java versions, so you need a GraalVM distribution
for the same Java version as specified in <a href="../build.sbt"><code class="language-plaintext highlighter-rouge">build.sbt</code></a>.</li>
  <li><a href="https://google.github.io/flatbuffers">Flatbuffers Compiler</a> with version
1.12.0.</li>
  <li><a href="https://doc.rust-lang.org/cargo/getting-started/installation.html">Cargo</a>,
the rust build tool.</li>
  <li><a href="https://rustup.rs">Rustup</a>, the rust toolchain management utility.</li>
</ul>

<p>Managing multiple JVM installations can be a pain, so some of the team use
<a href="http://www.jenv.be/">Jenv</a>: A useful tool for managing multiple JVMs.</p>

<p>The flatbuffers <code class="language-plaintext highlighter-rouge">flatc</code> compiler can be installed from the following locations:</p>

<ul>
  <li>Using the <code class="language-plaintext highlighter-rouge">conda</code> package manager (<code class="language-plaintext highlighter-rouge">conda install flatbuffers</code>). This will
work on all platforms, but requires some knowledge of <code class="language-plaintext highlighter-rouge">conda</code> and how its
environments work.</li>
  <li>Windows users can download binaries directly from the flatbuffers github
<a href="https://github.com/google/flatbuffers/releases">releases</a>.</li>
  <li>MacOS users can install it via homebrew (<code class="language-plaintext highlighter-rouge">brew install flatbuffers</code>).</li>
</ul>

<h3 id="getting-the-sources">Getting the Sources</h3>
<p>Given you’ve probably been reading this document on GitHub, you might have an
inkling where to look!. You can clone Enso using two methods:</p>

<ul>
  <li><strong>Via HTTPS:</strong> We recommend you only use HTTPS if checking out the sources as
read-only.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/enso-org/enso.git
</code></pre></div></div>

<ul>
  <li><strong>Via SSH:</strong> For those who plan on regularly making direct commits, cloning
over SSH may provide a better user experience (but requires setting up your
SSH Keys with GitHub).</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:enso-org/enso.git
</code></pre></div></div>

<h3 id="getting-set-up-rust">Getting Set Up (Rust)</h3>
<p>This project currently requires a specific nightly rust toolchain, as well as a
special set-up step in SBT. To get this project set up, you can run the
following commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rustup toolchain <span class="nb">install </span>nightly-2019-11-04
rustup override <span class="nb">set </span>nightly-2019-11-04
rustup component add clippy
</code></pre></div></div>

<p>You will also need <code class="language-plaintext highlighter-rouge">node</code> in order to run the <code class="language-plaintext highlighter-rouge">wasm</code> tests. We only support the
latest LTS version of <a href="https://nodejs.org/en/download">NodeJS</a> and NPM. We
recommend using <a href="https://github.com/nvm-sh/nvm"><code class="language-plaintext highlighter-rouge">nvm</code></a> to manage node versions.
The current LTS is <code class="language-plaintext highlighter-rouge">v12.18.0</code>.</p>

<p>Please note that once the parser is integrated into the SBT build, the
rust-related commands will be automatically performed for you.</p>

<h3 id="getting-set-up-jvm">Getting Set Up (JVM)</h3>
<p>In order to properly build the <code class="language-plaintext highlighter-rouge">runtime</code> component, the JVM running SBT needs
to have some dependency JARs available in its module path at startup. To ensure
they are available, before running any compilation or other tasks, these
dependencies should be prepared. To do so, run the following command in the
repository root directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt bootstrap
</code></pre></div></div>

<p>It is preferred to not run this command from the sbt shell, but in batch mode,
because SBT has to be launched again anyway to pick up these JARs at startup.</p>

<p>Bootstrap has to be run only when building the project for the first time
<strong>and</strong> after each change of Graal version.</p>

<h3 id="building-enso">Building Enso</h3>
<p>There are multiple projects in this repository, but all can be built, run and
tested using <code class="language-plaintext highlighter-rouge">sbt</code>. As long as your configuration is correct, with the correct
versions of SBT and GraalVM, the same steps can be followed on all of our
supported platforms (Linux, MacOS and Windows).</p>

<p>SBT will handle downloading and building library dependencies as needed, meaning
that you don’t need to handle any of this manually.</p>

<p><strong>Please note</strong> that at the current time, the Windows build of GraalVM is in an
experimental state. This means that while it may function, we are not intending
to provide work-arounds for building on that platform while it is still in an
unstable state.</p>

<h4 id="building-enso-components">Building Enso Components</h4>
<p>In order to build a specific component (e.g. <code class="language-plaintext highlighter-rouge">runtime</code>), please follow the
following steps.</p>

<ol>
  <li>Enter the sbt shell in the repository root directory by typing <code class="language-plaintext highlighter-rouge">sbt</code>.</li>
  <li>Change to the project you are concerned with (in our case <code class="language-plaintext highlighter-rouge">runtime</code>) by
executing <code class="language-plaintext highlighter-rouge">project runtime</code>.</li>
  <li>Execute <code class="language-plaintext highlighter-rouge">compile</code> in order to compile the project in question. This will
compile the project and all its dependencies as necessary.</li>
</ol>

<p>You can substitute both <code class="language-plaintext highlighter-rouge">bench</code> and <code class="language-plaintext highlighter-rouge">test</code> for <code class="language-plaintext highlighter-rouge">compile</code> in step 3, and the sbt
shell will execute the appropriate thing. Furthermore we have <code class="language-plaintext highlighter-rouge">testOnly</code> and
<code class="language-plaintext highlighter-rouge">benchOnly</code> that accept a glob pattern that delineates some subset of the tests
or benchmarks to run (e.g. <code class="language-plaintext highlighter-rouge">testOnly *FunctionArguments*</code>).</p>

<h4 id="building-the-interpreter-cli-fat-jar">Building the Interpreter CLI Fat Jar</h4>
<p>In order to build a fat jar with the CLI component, run the <code class="language-plaintext highlighter-rouge">assembly</code> task
inside the <code class="language-plaintext highlighter-rouge">runner</code> subproject:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt <span class="s2">"runner/assembly"</span>
</code></pre></div></div>

<p>This will produce an executable <code class="language-plaintext highlighter-rouge">enso.jar</code> fat jar in the repository root.
It’s self contained, with its only dependencies being available inside
a vanilla GraalVM distribution. To run it, use:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">JAVA_HOME</span><span class="o">=</span>&lt;PATH_TO_GRAAL_HOME&gt; ./enso.jar &lt;CLI_ARGS&gt;
</code></pre></div></div>

<h4 id="building-the-launcher-native-binary">Building the Launcher Native Binary</h4>
<p>If you want to build the native launcher binary, you need to ensure that the
Native Image component is installed in your GraalVM distribution. To install it,
run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gu <span class="nb">install </span>native-image
</code></pre></div></div>

<p>Then, you can build the launcher using:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt launcher/buildNativeImage
</code></pre></div></div>

<h4 id="testing-enso">Testing Enso</h4>
<p>Running the tests for the JVM enso components is as simple as running
<code class="language-plaintext highlighter-rouge">sbt / test</code>. To test the Rust components you can run <code class="language-plaintext highlighter-rouge">cargo test</code>. Finally, you
can run the WASM tests for the rust components by using <code class="language-plaintext highlighter-rouge">./run --test-wasm</code>.</p>

<h4 id="installing-the-jupyter-kernel">Installing the Jupyter kernel</h4>
<p>Enso has a highly experimental and not-actively-maintained Jupyer Kernel.
To run it:</p>

<ol>
  <li>Build (or download from the CI server) the CLI Fat Jar.</li>
  <li>Fill in the <code class="language-plaintext highlighter-rouge">engine/language-server/jupyter-kernel/enso/kernel.json</code>
file, providing correct paths to the <code class="language-plaintext highlighter-rouge">enso.jar</code> distribution and GraalVM
<code class="language-plaintext highlighter-rouge">JAVA_HOME</code>.</li>
  <li>Run:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jupyter kernelspec <span class="nb">install</span> &lt;ROOT_OF_THIS_REPO&gt;/engine/language-server/jupyter-kernel/enso
</code></pre></div></div>

<p>Congratulations, your Jupyter Kernel should now be installed and ready to use.</p>

<h4 id="passing-debug-options">Passing Debug Options</h4>
<p>GraalVM provides some useful debugging options, including the ability to output
the compilation graph during JIT optimisation, and the ASM generated by the JIT.</p>

<p>However, as we don’t want these things polluting our standard builds, we provide
a helper SBT command <code class="language-plaintext highlighter-rouge">withDebug</code> to allow for passing these options. It supports
the following flags:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--dumpGraphs</code>: This dumps the IGV (a Graal tool) graphs for the program to
allow for manual analysis and discovery of optimisation failures.</li>
  <li><code class="language-plaintext highlighter-rouge">--showCompilations</code>: Prints the truffle compilation trace information.</li>
  <li><code class="language-plaintext highlighter-rouge">--printAssembly</code>: Prints the assembly output from the HotSpot JIT tier.</li>
</ul>

<p>For more information on this sbt command, please see
<a href="../project/WithDebugCommand.scala">WithDebugCommand.scala</a>.</p>

<p>It is used as an addendum to the basic sbt command you want to run (e.g. <code class="language-plaintext highlighter-rouge">test</code>
from above). The format is <code class="language-plaintext highlighter-rouge">withDebug COMMAND [OPTIONS...]</code>, and if you need to
pass any additional options to <code class="language-plaintext highlighter-rouge">COMMAND</code> you must do so following a <code class="language-plaintext highlighter-rouge">--</code>. For
example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>withDebug run --dumpGraphs --printAssembly -- --run MyFile.enso
withDebug benchOnly --showCompilations -- RecursionBenchmark
</code></pre></div></div>

<h4 id="working-with-assembly">Working with Assembly</h4>
<p>In order to examine the assembly generated by GraalVM and HotSpot you need to
provide your JVM install with a dynamic library that supports the dumping of
assembly. It can be acquired for MacOS and Linux
<a href="https://github.com/liuzhengyang/hsdis/">here</a>, and for windows from
<a href="http://fcml-lib.com/">here</a>. There are other methods to acquire it, as well, so
please choose one best suited for you.</p>

<p>Once you have a copy of the dynamic library, it needs to be placed in
<code class="language-plaintext highlighter-rouge">$JVM_HOME/lib/server</code>.</p>

<h4 id="native-image">Native Image</h4>
<p>Native image is a capability provided alongside GraalVM that allows the
generation of native executables from JVM language programs (such as the Enso
interpreter itself). However, it results in significantly degraded peak
performance, so it is not part of our roadmap currently.</p>

<p>If you would like to experiment with it, you can execute the <code class="language-plaintext highlighter-rouge">buildNativeImage</code>
command in the sbt shell while inside the <code class="language-plaintext highlighter-rouge">runner</code> project. Please note
that while the command is available at the moment, and you are welcome to
<a href="https://github.com/enso-org/enso/issues/new?assignees=&amp;labels=Type%3A+Bug&amp;template=bug-report.md&amp;title=">report an issue</a>
with the functionality, any bugs you report will <em>not</em> be considered high
priority.</p>

<p><strong>WE CURRENTLY DO NOT SUPPORT THE NATIVE IMAGE BUILD.</strong></p>

<h4 id="using-intellij">Using IntelliJ</h4>
<p>Internally, most of the developers working on the Enso project use IntelliJ as
their primary IDE. To that end, what follows is a basic set of instructions for
getting the project into a working state in IntelliJ.</p>

<ol>
  <li>Clone the project sources.</li>
  <li>Open IntelliJ</li>
  <li>File -&gt; New -&gt; Project From Existing Sources.</li>
  <li>Navigate to the directory into which you cloned the project sources. By
default this will be called <code class="language-plaintext highlighter-rouge">enso</code>. Select the directory, and not the
<code class="language-plaintext highlighter-rouge">build.sbt</code> file it contains.</li>
  <li>In the ‘Import Project’ dialogue, select ‘Import project from external
model’ and choose ‘sbt’.</li>
  <li>Where it says ‘Download:’, ensure you check both ‘Library Sources’ and ‘sbt
sources’.</li>
  <li>In addition, check the boxes next to ‘Use sbt shell:’ such that it is used
both ‘for imports’ and ‘for builds’.</li>
  <li>Disallow the overriding of the sbt version.</li>
  <li>Under the ‘Project JDK’ setting, please ensure that it is set up to use a
GraalVM version as described in <a href="#system-requirements">System requirements</a>.
You may need to add it using the ‘New’ button if it isn’t already set up.</li>
  <li>Click ‘Finish’. This will prompt you as to whether you want to overwrite the
<code class="language-plaintext highlighter-rouge">project</code> folder. Select ‘Yes’ to continue. The Enso project will load up
with an open SBT shell, which can be interacted with as described above. You
will want to use scalafmt for formatting of Scala code, and install Google
Java Format for formatting Java code. For more information see the relevant
<a href="/docs/enso/style-guide/">Style Guides</a>.</li>
</ol>

<p>However, as mentioned in the <a href="#troubleshooting">Troubleshooting</a> section below,
the forked nature of execution in the SBT shell means that we can’t trivially
make use of the IntelliJ debugger. In order to get debugging working, you will
need to follow these steps:</p>

<ol>
  <li>Go to Run -&gt; Edit Configurations.</li>
  <li>Click the <code class="language-plaintext highlighter-rouge">+</code> button in the header of the ‘Run/Debug Configurations’
dialogue that pops up.</li>
  <li>Select ‘Remote’ and name the new configuration appropriately.</li>
  <li>In the options for that configuration select ‘Listen to remote JVM’ under
‘Debugger mode:’</li>
  <li>Where it provides the command-line arguments for the remote JVM, copy these
and add them to <code class="language-plaintext highlighter-rouge">truffleRunOptions</code> in <a href="build.sbt"><code class="language-plaintext highlighter-rouge">build.sbt</code></a>. Remove the
portion of these options after <code class="language-plaintext highlighter-rouge">suspend=y</code>, including the comma. They are
placeholders that we don’t use.</li>
  <li>Now, when you want to debug something, you can place a breakpoint as usual in
IntelliJ, and then execute your remote debugging configuration. Now, in the
SBT shell, run a command to execute the code you want to debug (e.g.
<code class="language-plaintext highlighter-rouge">testOnly *CurryingTest*</code>). This will open the standard debugger interface
and will allow you to step through your code.</li>
</ol>

<p><strong>Please be careful</strong> to ensure that you don’t commit these changes to the sbt
configuration as they are specific to your machine.</p>

<h4 id="troubleshooting">Troubleshooting</h4>
<p>If you are having issues building Enso, please check the list below before
filing an issue with us.</p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">StackOverflowError</code> During Compilation:</strong> Please ensure that your version
of sbt is respecting the project’s <code class="language-plaintext highlighter-rouge">.jvmopts</code> settings. We make significant
use of recursion when expanding macros for the parser, and these require use
of additional stack. Alternatively, you can explicitly pass <code class="language-plaintext highlighter-rouge">-Xss8M</code> to the
<code class="language-plaintext highlighter-rouge">sbt</code> invocation.</li>
  <li><strong>Debugging Not Working:</strong> The sbt tasks run the invoked programs in a forked
JVM. This means that to attach a debugger to it you need to use the JVM remote
debugging support. We cannot support all possible configurations for this, but
if you use IntelliJ please see the <a href="#using-intellj">Using IntelliJ</a> section
above for instructions.</li>
</ul>

<p>If your problem was not listed above, please
<a href="https://github.com/enso-org/enso/issues/new?assignees=&amp;labels=Type%3A+Bug&amp;template=bug-report.md&amp;title=">file a bug report</a>
in our issue tracker and we will get back to you as soon as possible.</p>

<h3 id="running-enso">Running Enso</h3>
<p>The only component in this repository with a proper executable is the Enso
interpreter. It can be run using the sbt <code class="language-plaintext highlighter-rouge">run</code> command in the project
<code class="language-plaintext highlighter-rouge">runner</code> and provides a rudimentary command-line interface to the basic
capabilities of the interpreter.</p>

<p>Detailed information on the flags it supports can be obtained by executing <code class="language-plaintext highlighter-rouge">run
--help</code>, but the primary functionality is as follows:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--new PATH</code>: Creates a new Enso project at the location spcified by <code class="language-plaintext highlighter-rouge">PATH</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">--run PATH</code>: Executes the interpreter on the Enso source specified by <code class="language-plaintext highlighter-rouge">PATH</code>.
In this case, <code class="language-plaintext highlighter-rouge">PATH</code> must point to either a standalone Enso file or an Enso
project.</li>
</ul>

<h4 id="language-server-mode">Language Server Mode</h4>
<p>The Language Server can be run using the <code class="language-plaintext highlighter-rouge">--server</code> option. It requires also a
content root to be provided (<code class="language-plaintext highlighter-rouge">--root-id</code> and <code class="language-plaintext highlighter-rouge">--path</code> options). Command-line
interface of the runner prints all server options when you execute it with
<code class="language-plaintext highlighter-rouge">--help</code> option.</p>

<p>Below are options uses by the Language Server:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">--server</code>: Runs the Language Server</li>
  <li><code class="language-plaintext highlighter-rouge">--root-id &lt;uuid&gt;</code>: Content root id.</li>
  <li><code class="language-plaintext highlighter-rouge">--path &lt;path&gt;</code>: Path to the content root.</li>
  <li><code class="language-plaintext highlighter-rouge">--interface &lt;interface&gt;</code>: Interface for processing all incoming connections.
Default value is 127.0.0.1</li>
  <li><code class="language-plaintext highlighter-rouge">--port &lt;port&gt;</code>: Port for processing all incoming connections. Default value
is 8080.</li>
</ul>

<p>To run the Language Server on 127.0.0.1:8080 type:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./enso.jar <span class="se">\</span>
  <span class="nt">--server</span> <span class="se">\</span>
  <span class="nt">--root-id</span> 3256d10d-45be-45b1-9ea4-7912ef4226b1 <span class="se">\</span>
  <span class="nt">--path</span> /tmp/content-root
</code></pre></div></div>

<p>If you want to provide a socket that the server should listen to, you must
specify the following options:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--interface</code>: The interface on which the socket will exist (e.g. <code class="language-plaintext highlighter-rouge">0.0.0.0</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">--port</code>: The port on <code class="language-plaintext highlighter-rouge">interface</code> where the socket will be opened (e.g. <code class="language-plaintext highlighter-rouge">80</code>).</li>
</ul>

<h2 id="pull-requests">Pull Requests</h2>
<p>Pull Requests are the primary method for making changes to Enso. GitHub has
<a href="https://help.github.com/articles/about-pull-requests/">fantastic documentation</a>
on using the pull request feature. Enso uses the ‘fork-and-pull’ model of
development. It is as described
<a href="https://help.github.com/articles/about-collaborative-development-models/">here</a>
and involves people pushing changes to their own fork and creating pull requests
to bring those changes into the main Enso repository.</p>

<p>Please make all pull requests against the <code class="language-plaintext highlighter-rouge">main</code> branch.</p>

<ul>
  <li>We run CI on all contributions to Enso, but it’s still useful for you to run
the tests yourself locally first! This can be done by running <code class="language-plaintext highlighter-rouge">test</code> in the
<code class="language-plaintext highlighter-rouge">enso</code> project in sbt.</li>
  <li>Additionally, please ensure that your code conforms to the Enso style guides,
particularly the <a href="/docs/enso/style-guide/scala.html">Scala Style Guide</a> and the
<a href="/docs/enso/style-guide/java.html">Java Style Guide</a>.</li>
</ul>

<p>Make sure you perform these checks before <em>every</em> pull request. You can even add
<a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">git hooks</a> before
every push to make sure that you can’t forget.</p>

<ul>
  <li>Every pull request to the Enso repository is reviewed by a member of the core
team! You’ll get assigned a reviewer based on the areas your PR touches, but
please feel free to ask for a specific person if you’ve worked with them in a
specific area before!</li>
  <li>If you have questions, or would like to begin the review process before your
PR is ‘done’, please use the <a href="https://github.blog/2019-02-14-introducing-draft-pull-requests/">Draft Pull Requests</a>
feature on GitHub. Doing so will allow you to make use of our CI
infrastructure as part of your development process.</li>
</ul>

<p>Once the reviewer approves your pull request it will be tested by our continuous
integration provider before being merged. If we request changes to your PR,
please feel free to discuss the suggestions and comments! We can only achieve
the best results through open collaboration.</p>

<h2 id="documentation">Documentation</h2>
<p>Documentation improvements are very welcome! For now, the main documentation
available is the <em>developer</em> documentation for the language, which can be found
at the <a href="https://dev.enso.org">dev docs site</a>. The source for this documentation
is found in the <a href="."><code class="language-plaintext highlighter-rouge">docs/</code></a> folder, and can be altered from there.</p>

<p>Documentation pull requests will be reviewed in exactly the same way as normal
pull requests.</p>

<p>To find documentation-related issues, sort by the
<a href="hhttps://github.com/enso-org/enso/labels/Category%3A%20Documentation">Category: Documentation</a>
label.</p>

<h2 id="issue-triage">Issue Triage</h2>
<p>Sometimes issues can be left open long after the bug has been fixed. Other
times, a bug might go stale because something has changed in the meantime.</p>

<p>It can be helpful to go through older bug reports and make sure that they are
still valid. Load up an older issue, double check that it’s still true, and
leave a comment letting us know if it is or is not. The
<a href="https://github.com/enso-org/enso/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-asc">least recently updated</a>
sort is good for finding issues like this.</p>

<p>Contributors with sufficient permissions can help by adding labels to help with
issue triage.</p>

<p>If you’re looking for somewhere to start, take a look at the
<a href="https://github.com/enso-org/enso/labels/Difficulty%3A%20Beginner">Difficulty: Beginner</a>
issue label, as well as the
<a href="https://github.com/enso-org/enso/labels/Status%3A%20Help%20Wanted">Status: Help Wanted</a>
and
<a href="https://github.com/enso-org/enso/labels/Status%3A%20Good%20First%20Issue">Status: Good First Issue</a> labels.</p>

<h2 id="out-of-tree-contributions">Out-of-Tree Contributions</h2>
<p>As helpful as contributing to Enso directly is, it can also be just as helpful
to contribute in other ways outside this repository:</p>

<ul>
  <li>Answer questions in the <a href="https://chat.luna-lang.org">Discord</a> or on
<a href="https://stackoverflow.com/questions/tagged/enso">StackOverflow</a>.</li>
</ul>

<h2 id="helpful-documentation-and-links">Helpful Documentation and Links</h2>
<p>For people new to Enso, and just starting to contribute, or even for more
seasoned developers, some useful places to look for information are:</p>

<ul>
  <li>The <a href="/docs/enso/">design documentation</a>.</li>
  <li>The community! Don’t be afraid to ask questions.</li>
</ul>


                        
                        
                        <a href="https://github.com/enso-org/enso/blob/main/docs/enso/CONTRIBUTING.md">Open this doc on GitHub</a>
                        
                    </section>
                </div>

                 <!--<div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<script>
var search = instantsearch({
  appId: '3PBI3MMCBE',
  apiKey: '55d673c313b717b7386df8c9418588d4',
  indexName: 'jekyll',
  searchFunction(helper) {
    var container = document.querySelector('#search-hits');
    container.style.display = helper.state.query === '' ? 'none' : '';

    helper.search();
  }
});

var hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  var title = hit._highlightResult.title.value;

  var content = hit._highlightResult.html.value;

  return `
    <li class="post-item chapter">
      <a href="${url}" class="post-link">${title}</a>
      <div class="post-snippet">${content}</div>
    </li>
  `;
}


search.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-searchbar',
    placeholder: 'Search the docs',
    poweredBy: true // This is required if you're on the free Community plan
  })
);

search.addWidget(
  instantsearch.widgets.hits({
    container: '#search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

search.start();
</script>

<style>
.ais-search-box {
  max-width: 100%;
  margin-bottom: 15px;
}
.post-item {
  margin-bottom: 30px;
}
.post-link .ais-Highlight {
  color: #111;
  font-style: normal;
  text-decoration: underline;
}
.post-breadcrumbs {
  color: #424242;
  display: block;
}
.post-breadcrumb {
  font-size: 18px;
  color: #424242;
}
.post-breadcrumb .ais-Highlight {
  font-weight: bold;
  font-style: normal;
}
.post-snippet .ais-Highlight {
  color: #2a7ae2;
  font-style: normal;
  font-weight: bold;
}
.post-snippet img {
  display: none;
}

.post-list {
    list-style:none;
    margin:0;
    padding: 10px 15px;
    -webkit-transition:top .5s ease;
    -moz-transition:top .5s ease;
    -o-transition:top .5s ease;
    transition:top .5s ease
}

#search-hits::after {
    content: '';
    display: block;
    height: 1px;
    margin: 7px 0;
    overflow: hidden;
    background: rgba(0,0,0,.07);
}
</style>-->
            </div>
        </div>
    </div>
</div>

                <a href="/docs/enso/enso-philosophy.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Enso's Philosophy">
                    <i class="fa fa-angle-left"></i>
                </a>
                

                
                    <a href="/docs/enso/CODE_OF_CONDUCT.html" class="navigation navigation-next navigation-unique" aria-label="Next page: The Enso Code of Conduct">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            
            </div>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},
            "sharing": {
                "all": ["facebook", "google", "twitter", "weibo", "instapaper"],
                "facebook": true,
                "google": false,
                "instapaper": false,
                "twitter": true,
                "vk": false,
                "weibo": false
            },
            "theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            }
        },
        "theme": "default",
        "author": "Tao He",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "Enso Developer Documentation",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "docs/enso/CONTRIBUTING.md",
        "mtime": "",
        "type": "markdown"
    },
    "gitbook": {
        "version": "3.2.3",
        "time": "2020-07-16 07:51:43 +0000"
    },
    "basePath": "",
    "book": {
        "language": ""
    }
});
            });
            </script>
        </div><script src="/gitbook/gitbook.js"></script>
<script src="/gitbook/theme.js"></script>

<script src="/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>

<!-- <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script> --></body>
</html>